<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Toml.Parser.Validate</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">tomland-1.3.3.3: Bidirectional TOML serialization</span><ul class="links" id="page-menu"><li><a href="src/Toml.Parser.Validate.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2018-2022 Kowainik</td></tr><tr><th>License</th><td>MPL-2.0</td></tr><tr><th>Maintainer</th><td>Kowainik &lt;xrom.xkov@gmail.com&gt;</td></tr><tr><th>Stability</th><td>Stable</td></tr><tr><th>Portability</th><td>Portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Toml.Parser.Validate</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Decoding</a></li><li><a href="#g:2">Internal helpers</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module contains functions that aggregate the result of
<code><a href="Toml-Parser-Item.html#v:tomlP" title="Toml.Parser.Item">tomlP</a></code> parser into <code><a href="Toml-Type-TOML.html#t:TOML" title="Toml.Type.TOML">TOML</a></code>. This approach allows to keep parser
fast and simple and delegate the process of creating tree structure to a
separate function.</p><p><em>Since: 1.2.0.0</em></p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:validateItems">validateItems</a> :: [<a href="Toml-Parser-Item.html#t:TomlItem" title="Toml.Parser.Item">TomlItem</a>] -&gt; <a href="../base-4.19.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Toml-Parser-Validate.html#t:ValidationError" title="Toml.Parser.Validate">ValidationError</a> <a href="Toml-Type-TOML.html#t:TOML" title="Toml.Type.TOML">TOML</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ValidationError">ValidationError</a><ul class="subs"><li>= <a href="#v:DuplicateKey">DuplicateKey</a> !<a href="Toml-Type-Key.html#t:Key" title="Toml.Type.Key">Key</a></li><li>| <a href="#v:DuplicateTable">DuplicateTable</a> !<a href="Toml-Type-Key.html#t:Key" title="Toml.Type.Key">Key</a></li><li>| <a href="#v:SameNameKeyTable">SameNameKeyTable</a> !<a href="Toml-Type-Key.html#t:Key" title="Toml.Type.Key">Key</a></li><li>| <a href="#v:SameNameTableArray">SameNameTableArray</a> !<a href="Toml-Type-Key.html#t:Key" title="Toml.Type.Key">Key</a></li></ul></li><li class="src short"><a href="#v:groupItems">groupItems</a> :: [<a href="Toml-Parser-Item.html#t:TomlItem" title="Toml.Parser.Item">TomlItem</a>] -&gt; <a href="../containers-0.6.8/Data-Tree.html#t:Forest" title="Data.Tree">Forest</a> <a href="Toml-Parser-Item.html#t:TomlItem" title="Toml.Parser.Item">TomlItem</a></li><li class="src short"><a href="#v:groupWithParent">groupWithParent</a> :: <a href="../base-4.19.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Toml-Type-Key.html#t:Key" title="Toml.Type.Key">Key</a> -&gt; [<a href="Toml-Parser-Item.html#t:TomlItem" title="Toml.Parser.Item">TomlItem</a>] -&gt; (<a href="../containers-0.6.8/Data-Tree.html#t:Forest" title="Data.Tree">Forest</a> <a href="Toml-Parser-Item.html#t:TomlItem" title="Toml.Parser.Item">TomlItem</a>, [<a href="Toml-Parser-Item.html#t:TomlItem" title="Toml.Parser.Item">TomlItem</a>])</li><li class="src short"><a href="#v:validateItemForest">validateItemForest</a> :: <a href="../containers-0.6.8/Data-Tree.html#t:Forest" title="Data.Tree">Forest</a> <a href="Toml-Parser-Item.html#t:TomlItem" title="Toml.Parser.Item">TomlItem</a> -&gt; <a href="../base-4.19.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Toml-Parser-Validate.html#t:ValidationError" title="Toml.Parser.Validate">ValidationError</a> <a href="Toml-Type-TOML.html#t:TOML" title="Toml.Type.TOML">TOML</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Decoding</h1></a><div class="top"><p class="src"><a id="v:validateItems" class="def">validateItems</a> :: [<a href="Toml-Parser-Item.html#t:TomlItem" title="Toml.Parser.Item">TomlItem</a>] -&gt; <a href="../base-4.19.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Toml-Parser-Validate.html#t:ValidationError" title="Toml.Parser.Validate">ValidationError</a> <a href="Toml-Type-TOML.html#t:TOML" title="Toml.Type.TOML">TOML</a> <a href="src/Toml.Parser.Validate.html#validateItems" class="link">Source</a> <a href="#v:validateItems" class="selflink">#</a></p><div class="doc"><p>Validate list of <code><a href="Toml-Parser-Item.html#t:TomlItem" title="Toml.Parser.Item">TomlItem</a></code>s and convert to <code><a href="Toml-Type-TOML.html#t:TOML" title="Toml.Type.TOML">TOML</a></code> if not validation
errors are found.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ValidationError" class="def">ValidationError</a> <a href="src/Toml.Parser.Validate.html#ValidationError" class="link">Source</a> <a href="#t:ValidationError" class="selflink">#</a></p><div class="doc"><p>Error that happens during validating TOML which is already syntactically
correct. For the list of all possible validation errors and their explanation,
see the following issue on GitHub:</p><ul><li><a href="https://github.com/kowainik/tomland/issues/5">https://github.com/kowainik/tomland/issues/5</a></li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DuplicateKey" class="def">DuplicateKey</a> !<a href="Toml-Type-Key.html#t:Key" title="Toml.Type.Key">Key</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:DuplicateTable" class="def">DuplicateTable</a> !<a href="Toml-Type-Key.html#t:Key" title="Toml.Type.Key">Key</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:SameNameKeyTable" class="def">SameNameKeyTable</a> !<a href="Toml-Type-Key.html#t:Key" title="Toml.Type.Key">Key</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:SameNameTableArray" class="def">SameNameTableArray</a> !<a href="Toml-Type-Key.html#t:Key" title="Toml.Type.Key">Key</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ValidationError">Instances</h4><details id="i:ValidationError" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ValidationError:Show:1"></span> <a href="../base-4.19.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Toml-Parser-Validate.html#t:ValidationError" title="Toml.Parser.Validate">ValidationError</a></span> <a href="src/Toml.Parser.Validate.html#line-135" class="link">Source</a> <a href="#t:ValidationError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ValidationError:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Toml-Parser-Validate.html">Toml.Parser.Validate</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.19.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Toml-Parser-Validate.html#t:ValidationError" title="Toml.Parser.Validate">ValidationError</a> -&gt; <a href="../base-4.19.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Toml-Parser-Validate.html#t:ValidationError" title="Toml.Parser.Validate">ValidationError</a> -&gt; <a href="../base-4.19.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Toml-Parser-Validate.html#t:ValidationError" title="Toml.Parser.Validate">ValidationError</a>] -&gt; <a href="../base-4.19.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ValidationError:Eq:2"></span> <a href="../base-4.19.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Toml-Parser-Validate.html#t:ValidationError" title="Toml.Parser.Validate">ValidationError</a></span> <a href="src/Toml.Parser.Validate.html#line-135" class="link">Source</a> <a href="#t:ValidationError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ValidationError:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Toml-Parser-Validate.html">Toml.Parser.Validate</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Toml-Parser-Validate.html#t:ValidationError" title="Toml.Parser.Validate">ValidationError</a> -&gt; <a href="Toml-Parser-Validate.html#t:ValidationError" title="Toml.Parser.Validate">ValidationError</a> -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Toml-Parser-Validate.html#t:ValidationError" title="Toml.Parser.Validate">ValidationError</a> -&gt; <a href="Toml-Parser-Validate.html#t:ValidationError" title="Toml.Parser.Validate">ValidationError</a> -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:2" id="g:2"><h1>Internal helpers</h1></a><div class="top"><p class="src"><a id="v:groupItems" class="def">groupItems</a> :: [<a href="Toml-Parser-Item.html#t:TomlItem" title="Toml.Parser.Item">TomlItem</a>] -&gt; <a href="../containers-0.6.8/Data-Tree.html#t:Forest" title="Data.Tree">Forest</a> <a href="Toml-Parser-Item.html#t:TomlItem" title="Toml.Parser.Item">TomlItem</a> <a href="src/Toml.Parser.Validate.html#groupItems" class="link">Source</a> <a href="#v:groupItems" class="selflink">#</a></p><div class="doc"><p>This function takes flat list of <code><a href="Toml-Parser-Item.html#t:TomlItem" title="Toml.Parser.Item">TomlItem</a></code>s and groups it into list of
<code><a href="../containers-0.6.8/Data-Tree.html#t:Tree" title="Data.Tree">Tree</a></code>s by putting all corresponding items inside tables and table arrays.  It
doesn't perform any validation, just groups items according to prefixes of their
keys. So, for example, if you have the following keys as flat list:</p><pre>aaa              # ordinary key
aaa.bbb          # ordinary key
[foo]            # table nam
foo.bar
foo.baz
[xxx]            # table name
[xxx.yyy]        # table name
zzz
</pre><p>the following tree structure will be created:</p><pre>aaa
aaa.bbb
[foo]
&#9500;&#9472;&#9472;&#9472;&#9472; foo.bar
&#9492;&#9472;&#9472;&#9472;&#9472; foo.baz
[xxx]
&#9492;&#9472;&#9472;&#9472;&#9472; [yyy]
      &#9492;&#9472;&#9472;&#9472;&#9472; zzz
</pre></div></div><div class="top"><p class="src"><a id="v:groupWithParent" class="def">groupWithParent</a> <a href="src/Toml.Parser.Validate.html#groupWithParent" class="link">Source</a> <a href="#v:groupWithParent" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.19.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Toml-Type-Key.html#t:Key" title="Toml.Type.Key">Key</a></td><td class="doc"><p>Parent name</p></td></tr><tr><td class="src">-&gt; [<a href="Toml-Parser-Item.html#t:TomlItem" title="Toml.Parser.Item">TomlItem</a>]</td><td class="doc"><p>List of items</p></td></tr><tr><td class="src">-&gt; (<a href="../containers-0.6.8/Data-Tree.html#t:Forest" title="Data.Tree">Forest</a> <a href="Toml-Parser-Item.html#t:TomlItem" title="Toml.Parser.Item">TomlItem</a>, [<a href="Toml-Parser-Item.html#t:TomlItem" title="Toml.Parser.Item">TomlItem</a>])</td><td class="doc"><p>Forest of times and remaining items</p></td></tr></table></div><div class="doc"><p>This function groups list of TOML items into <code><a href="../containers-0.6.8/Data-Tree.html#t:Forest" title="Data.Tree">Forest</a></code> and returns list of
items that are not children of specified parent.</p><p><strong>Invariant:</strong> When this function is called with <code><a href="../base-4.19.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code>, second element in
the result tuple should be empty list.</p></div></div><div class="top"><p class="src"><a id="v:validateItemForest" class="def">validateItemForest</a> :: <a href="../containers-0.6.8/Data-Tree.html#t:Forest" title="Data.Tree">Forest</a> <a href="Toml-Parser-Item.html#t:TomlItem" title="Toml.Parser.Item">TomlItem</a> -&gt; <a href="../base-4.19.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Toml-Parser-Validate.html#t:ValidationError" title="Toml.Parser.Validate">ValidationError</a> <a href="Toml-Type-TOML.html#t:TOML" title="Toml.Type.TOML">TOML</a> <a href="src/Toml.Parser.Validate.html#validateItemForest" class="link">Source</a> <a href="#v:validateItemForest" class="selflink">#</a></p><div class="doc"><p>Construct <code><a href="Toml-Type-TOML.html#t:TOML" title="Toml.Type.TOML">TOML</a></code> from the <code><a href="../containers-0.6.8/Data-Tree.html#t:Forest" title="Data.Tree">Forest</a></code> of <code><a href="Toml-Parser-Item.html#t:TomlItem" title="Toml.Parser.Item">TomlItem</a></code> and performing validation
of TOML at the same time.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.30.0</p></div></body></html>