<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds           #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass      #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE GADTs               #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE KindSignatures      #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE Rank2Types          #-}</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="annot"><span class="hs-comment">{- |
Module                  : Toml.Codec.BiMap
Copyright               : (c) 2018-2022 Kowainik
SPDX-License-Identifier : MPL-2.0
Maintainer              : Kowainik &lt;xrom.xkov@gmail.com&gt;
Stability               : Stable
Portability             : Portable

Implementation of /Tagged Partial Bidirectional Isomorphism/.
This module contains the 'BiMap' type that represents conversion between
two types with the possibility of failure.

See &quot;Toml.Codec.BiMap.Conversion&quot; for examples of 'BiMap' with
specific types. The 'BiMap' concept is general and is not specific to
TOML, but in this package most usages of 'BiMap' are between TOML
values and Haskell values.
-}</span></span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Toml.Codec.BiMap</span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * 'BiMap' concept</span></span><span>
</span><span id="line-28"></span><span>      </span><span class="annot"><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier">BiMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#invert"><span class="hs-identifier">invert</span></a></span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#iso"><span class="hs-identifier">iso</span></a></span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#prism"><span class="hs-identifier">prism</span></a></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span>      </span><span class="annot"><span class="hs-comment">-- * TOML 'BiMap'</span></span><span>
</span><span id="line-34"></span><span>      </span><span class="annot"><span class="hs-comment">-- ** Type</span></span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#TomlBiMap"><span class="hs-identifier">TomlBiMap</span></a></span><span>
</span><span id="line-36"></span><span>      </span><span class="annot"><span class="hs-comment">-- ** Error</span></span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#TomlBiMapError"><span class="hs-identifier">TomlBiMapError</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#wrongConstructor"><span class="hs-identifier">wrongConstructor</span></a></span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#prettyBiMapError"><span class="hs-identifier">prettyBiMapError</span></a></span><span>
</span><span id="line-40"></span><span>      </span><span class="annot"><span class="hs-comment">-- ** Smart constructors</span></span><span>
</span><span id="line-41"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#mkAnyValueBiMap"><span class="hs-identifier">mkAnyValueBiMap</span></a></span><span>
</span><span id="line-42"></span><span>      </span><span class="annot"><span class="hs-comment">-- ** Internals</span></span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#tShow"><span class="hs-identifier">tShow</span></a></span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.DeepSeq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NFData</span></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(&gt;=&gt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bifunctor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">first</span></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Toml.Type.AnyValue.html"><span class="hs-identifier">Toml.Type.AnyValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Toml.Type.AnyValue.html#AnyValue"><span class="hs-identifier">AnyValue</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Toml.Type.AnyValue.html#MatchError"><span class="hs-identifier">MatchError</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Toml.Type.Value.html"><span class="hs-identifier">Toml.Type.Value</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Toml.Type.Value.html#TValue"><span class="hs-identifier">TValue</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Toml.Type.Value.html#Value"><span class="hs-identifier">Value</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Category</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Cat</span></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="annot"><span class="hs-comment">{- | Partial bidirectional isomorphism. @BiMap a b@ contains two function:

1. @a -&gt; Either e b@
2. @b -&gt; Either e a@

If you think of types as sets then this data type can be illustrated by the
following picture:

![bimap-type](https://user-images.githubusercontent.com/4276606/50770531-b6a36000-1298-11e9-9528-caae87951d2a.png)

'BiMap' also implements 'Cat.Category' typeclass. And this instance can be described
clearly by this illustration:

![bimap-cat](https://user-images.githubusercontent.com/4276606/50771234-13a01580-129b-11e9-93da-6c5dd0f7f160.png)

@since 0.4.0
-}</span></span><span>
</span><span id="line-76"></span><span class="hs-keyword">data</span><span> </span><span id="BiMap"><span class="annot"><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-var">BiMap</span></a></span></span><span> </span><span id="local-6989586621679107015"><span class="annot"><a href="#local-6989586621679107015"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621679107016"><span class="annot"><a href="#local-6989586621679107016"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679107017"><span class="annot"><a href="#local-6989586621679107017"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BiMap"><span class="annot"><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-var">BiMap</span></a></span></span><span>
</span><span id="line-77"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="forward"><span class="annot"><span class="annottext">forall e a b. BiMap e a b -&gt; a -&gt; Either e b
</span><a href="Toml.Codec.BiMap.html#forward"><span class="hs-identifier hs-var hs-var">forward</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679107016"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679107015"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107017"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-78"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="backward"><span class="annot"><span class="annottext">forall e a b. BiMap e a b -&gt; b -&gt; Either e a
</span><a href="Toml.Codec.BiMap.html#backward"><span class="hs-identifier hs-var hs-var">backward</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679107017"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679107015"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107016"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span class="annot"><span class="hs-comment">-- | @since 0.4.0</span></span><span>
</span><span id="line-82"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679107033"><span class="annot"><span class="hs-identifier hs-type">Cat.Category</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-type">BiMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107033"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-83"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">id</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679107150"><span class="annot"><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-type">BiMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107033"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107150"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107150"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-84"></span><span>    </span><span id="local-6989586621679107151"><span class="annot"><span class="annottext">id :: forall a. BiMap e a a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">id</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either e a) -&gt; (a -&gt; Either e a) -&gt; BiMap e a a
forall e a b. (a -&gt; Either e b) -&gt; (b -&gt; Either e a) -&gt; BiMap e a b
</span><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-var">BiMap</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Either e a
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Either e a
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span>
</span><span id="line-85"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">id</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">(.)</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679107153"><span id="local-6989586621679107154"><span id="local-6989586621679107155"><span class="annot"><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-type">BiMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107033"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107153"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107154"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-type">BiMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107033"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107155"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107153"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-type">BiMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107033"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107155"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107154"><span class="hs-identifier hs-type">c</span></a></span></span></span></span><span>
</span><span id="line-88"></span><span>    </span><span id="local-6989586621679107159"><span class="annot"><span class="annottext">BiMap e b c
</span><a href="#local-6989586621679107159"><span class="hs-identifier hs-var">bc</span></a></span></span><span> </span><span id="local-6989586621679107160"><span class="annot"><span class="annottext">. :: forall b c a. BiMap e b c -&gt; BiMap e a b -&gt; BiMap e a c
</span><span class="hs-operator hs-var hs-var hs-var hs-var">.</span></span></span><span> </span><span id="local-6989586621679107161"><span class="annot"><span class="annottext">BiMap e a b
</span><a href="#local-6989586621679107161"><span class="hs-identifier hs-var">ab</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-type">BiMap</span></a></span><span>
</span><span id="line-89"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">forward :: a -&gt; Either e c
</span><a href="Toml.Codec.BiMap.html#forward"><span class="hs-identifier hs-var">forward</span></a></span><span>  </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">BiMap e a b -&gt; a -&gt; Either e b
forall e a b. BiMap e a b -&gt; a -&gt; Either e b
</span><a href="Toml.Codec.BiMap.html#forward"><span class="hs-identifier hs-var">forward</span></a></span><span> </span><span class="annot"><span class="annottext">BiMap e a b
</span><a href="#local-6989586621679107161"><span class="hs-identifier hs-var">ab</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either e b) -&gt; (b -&gt; Either e c) -&gt; a -&gt; Either e c
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><span class="hs-operator hs-var">&gt;=&gt;</span></span><span>  </span><span class="annot"><span class="annottext">BiMap e b c -&gt; b -&gt; Either e c
forall e a b. BiMap e a b -&gt; a -&gt; Either e b
</span><a href="Toml.Codec.BiMap.html#forward"><span class="hs-identifier hs-var">forward</span></a></span><span> </span><span class="annot"><span class="annottext">BiMap e b c
</span><a href="#local-6989586621679107159"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-90"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">backward :: c -&gt; Either e a
</span><a href="Toml.Codec.BiMap.html#backward"><span class="hs-identifier hs-var">backward</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BiMap e b c -&gt; c -&gt; Either e b
forall e a b. BiMap e a b -&gt; b -&gt; Either e a
</span><a href="Toml.Codec.BiMap.html#backward"><span class="hs-identifier hs-var">backward</span></a></span><span> </span><span class="annot"><span class="annottext">BiMap e b c
</span><a href="#local-6989586621679107159"><span class="hs-identifier hs-var">bc</span></a></span><span> </span><span class="annot"><span class="annottext">(c -&gt; Either e b) -&gt; (b -&gt; Either e a) -&gt; c -&gt; Either e a
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><span class="hs-operator hs-var">&gt;=&gt;</span></span><span> </span><span class="annot"><span class="annottext">BiMap e a b -&gt; b -&gt; Either e a
forall e a b. BiMap e a b -&gt; b -&gt; Either e a
</span><a href="Toml.Codec.BiMap.html#backward"><span class="hs-identifier hs-var">backward</span></a></span><span> </span><span class="annot"><span class="annottext">BiMap e a b
</span><a href="#local-6989586621679107161"><span class="hs-identifier hs-var">ab</span></a></span><span>
</span><span id="line-91"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-92"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">.</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="annot"><span class="hs-comment">{- | Inverts bidirectional mapping.

@since 0.4.0
-}</span></span><span>
</span><span id="line-98"></span><span id="local-6989586621679107045"><span id="local-6989586621679107046"><span id="local-6989586621679107047"><span class="annot"><a href="Toml.Codec.BiMap.html#invert"><span class="hs-identifier hs-type">invert</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-type">BiMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107045"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107046"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107047"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-type">BiMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107045"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107047"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107046"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-99"></span><span id="invert"><span class="annot"><span class="annottext">invert :: forall e a b. BiMap e a b -&gt; BiMap e b a
</span><a href="Toml.Codec.BiMap.html#invert"><span class="hs-identifier hs-var hs-var">invert</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-type">BiMap</span></a></span><span> </span><span id="local-6989586621679107162"><span class="annot"><span class="annottext">a -&gt; Either e b
</span><a href="#local-6989586621679107162"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679107163"><span class="annot"><span class="annottext">b -&gt; Either e a
</span><a href="#local-6989586621679107163"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either e a) -&gt; (a -&gt; Either e b) -&gt; BiMap e b a
forall e a b. (a -&gt; Either e b) -&gt; (b -&gt; Either e a) -&gt; BiMap e a b
</span><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-var">BiMap</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; Either e a
</span><a href="#local-6989586621679107163"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Either e b
</span><a href="#local-6989586621679107162"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-100"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#invert"><span class="hs-pragma hs-type">invert</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="annot"><span class="hs-comment">{- | Creates 'BiMap' from isomorphism. Can be used in the following way:

@
__newtype__ Even = Even Integer
__newtype__ Odd  = Odd  Integer

succEven :: Even -&gt; Odd
succEven (Even n) = Odd (n + 1)

predOdd :: Odd -&gt; Even
predOdd (Odd n) = Even (n - 1)

_EvenOdd :: 'BiMap' e Even Odd
_EvenOdd = 'iso' succEven predOdd
@

@since 0.4.0
-}</span></span><span>
</span><span id="line-120"></span><span id="local-6989586621679107051"><span id="local-6989586621679107052"><span id="local-6989586621679107053"><span class="annot"><a href="Toml.Codec.BiMap.html#iso"><span class="hs-identifier hs-type">iso</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679107051"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679107052"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679107052"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679107051"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-type">BiMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107053"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107051"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107052"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-121"></span><span id="iso"><span class="annot"><span class="annottext">iso :: forall a b e. (a -&gt; b) -&gt; (b -&gt; a) -&gt; BiMap e a b
</span><a href="Toml.Codec.BiMap.html#iso"><span class="hs-identifier hs-var hs-var">iso</span></a></span></span><span> </span><span id="local-6989586621679107164"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679107164"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679107165"><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621679107165"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either e b) -&gt; (b -&gt; Either e a) -&gt; BiMap e a b
forall e a b. (a -&gt; Either e b) -&gt; (b -&gt; Either e a) -&gt; BiMap e a b
</span><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-var">BiMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Either e b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either e b) -&gt; (a -&gt; b) -&gt; a -&gt; Either e b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679107164"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Either e a
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either e a) -&gt; (b -&gt; a) -&gt; b -&gt; Either e a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621679107165"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#iso"><span class="hs-pragma hs-type">iso</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="annot"><span class="hs-comment">{- | Creates 'BiMap' from prism-like pair of functions. This combinator can be
used to create 'BiMap' for custom sum types like this:

@
__data__ User
    = Admin  Integer  -- id of admin
    | Client Text     -- name of the client
    __deriving__ (Show)

_Admin :: 'TomlBiMap' User Integer
_Admin = Toml.'prism' Admin $ \\__case__
    Admin i -&gt; Right i
    other   -&gt; Toml.'wrongConstructor' \&quot;Admin\&quot; other

_Client :: 'TomlBiMap' User Text
_Client = Toml.'prism' Client $ \\__case__
    Client n -&gt; Right n
    other    -&gt; Toml.'wrongConstructor' \&quot;Client\&quot; other
@

@since 0.4.0
-}</span></span><span>
</span><span id="line-146"></span><span id="local-6989586621679107060"><span id="local-6989586621679107061"><span id="local-6989586621679107062"><span class="annot"><a href="Toml.Codec.BiMap.html#prism"><span class="hs-identifier hs-type">prism</span></a></span><span>
</span><span id="line-147"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679107060"><span class="hs-identifier hs-type">field</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679107061"><span class="hs-identifier hs-type">object</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Constructor</span></span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679107061"><span class="hs-identifier hs-type">object</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679107062"><span class="hs-identifier hs-type">error</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107060"><span class="hs-identifier hs-type">field</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Match object to either error or field</span></span><span>
</span><span id="line-151"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-type">BiMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107062"><span class="hs-identifier hs-type">error</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107061"><span class="hs-identifier hs-type">object</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107060"><span class="hs-identifier hs-type">field</span></a></span></span></span></span><span>
</span><span id="line-152"></span><span id="prism"><span class="annot"><span class="annottext">prism :: forall field object error.
(field -&gt; object)
-&gt; (object -&gt; Either error field) -&gt; BiMap error object field
</span><a href="Toml.Codec.BiMap.html#prism"><span class="hs-identifier hs-var hs-var">prism</span></a></span></span><span> </span><span id="local-6989586621679107167"><span class="annot"><span class="annottext">field -&gt; object
</span><a href="#local-6989586621679107167"><span class="hs-identifier hs-var">review</span></a></span></span><span> </span><span id="local-6989586621679107168"><span class="annot"><span class="annottext">object -&gt; Either error field
</span><a href="#local-6989586621679107168"><span class="hs-identifier hs-var">preview</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(object -&gt; Either error field)
-&gt; (field -&gt; Either error object) -&gt; BiMap error object field
forall e a b. (a -&gt; Either e b) -&gt; (b -&gt; Either e a) -&gt; BiMap e a b
</span><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-var">BiMap</span></a></span><span> </span><span class="annot"><span class="annottext">object -&gt; Either error field
</span><a href="#local-6989586621679107168"><span class="hs-identifier hs-var">preview</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">object -&gt; Either error object
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(object -&gt; Either error object)
-&gt; (field -&gt; object) -&gt; field -&gt; Either error object
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">field -&gt; object
</span><a href="#local-6989586621679107167"><span class="hs-identifier hs-var">review</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#prism"><span class="hs-pragma hs-type">prism</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-156"></span><span class="hs-comment">-- TOML BiMap</span><span>
</span><span id="line-157"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="annot"><span class="hs-comment">{- | 'BiMap' specialized to TOML error.

@since 1.0.0
-}</span></span><span>
</span><span id="line-163"></span><span class="hs-keyword">type</span><span> </span><span id="TomlBiMap"><span class="annot"><a href="Toml.Codec.BiMap.html#TomlBiMap"><span class="hs-identifier hs-var">TomlBiMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-type">BiMap</span></a></span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#TomlBiMapError"><span class="hs-identifier hs-type">TomlBiMapError</span></a></span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span class="annot"><span class="hs-comment">{- | Type of errors for TOML 'BiMap'.

@since 1.0.0
-}</span></span><span>
</span><span id="line-169"></span><span class="hs-keyword">data</span><span> </span><span id="TomlBiMapError"><span class="annot"><a href="Toml.Codec.BiMap.html#TomlBiMapError"><span class="hs-identifier hs-var">TomlBiMapError</span></a></span></span><span>
</span><span id="line-170"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="WrongConstructor"><span class="annot"><a href="Toml.Codec.BiMap.html#WrongConstructor"><span class="hs-identifier hs-var">WrongConstructor</span></a></span></span><span> </span><span class="hs-comment">-- ^ Error for cases with wrong constructors. For</span><span>
</span><span id="line-171"></span><span>                       </span><span class="hs-comment">-- example, you're trying to convert 'Left' but</span><span>
</span><span id="line-172"></span><span>                       </span><span class="hs-comment">-- bidirectional converter expects 'Right'.</span><span>
</span><span id="line-173"></span><span>        </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>          </span><span class="annot"><span class="hs-comment">-- ^ Expected constructor name</span></span><span>
</span><span id="line-174"></span><span>        </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>          </span><span class="annot"><span class="hs-comment">-- ^ Actual value</span></span><span>
</span><span id="line-175"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="WrongValue"><span class="annot"><a href="Toml.Codec.BiMap.html#WrongValue"><span class="hs-identifier hs-var">WrongValue</span></a></span></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ Error for cases with wrong values</span></span><span>
</span><span id="line-176"></span><span>        </span><span class="hs-glyph">!</span><span class="annot"><a href="Toml.Type.AnyValue.html#MatchError"><span class="hs-identifier hs-type">MatchError</span></a></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Information about failed matching</span></span><span>
</span><span id="line-177"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="ArbitraryError"><span class="annot"><a href="Toml.Codec.BiMap.html#ArbitraryError"><span class="hs-identifier hs-var">ArbitraryError</span></a></span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Arbitrary textual error</span></span><span>
</span><span id="line-178"></span><span>        </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>          </span><span class="annot"><span class="hs-comment">-- ^ Error message</span></span><span>
</span><span id="line-179"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679107173"><span id="local-6989586621679107181"><span class="annot"><span class="annottext">TomlBiMapError -&gt; TomlBiMapError -&gt; Bool
(TomlBiMapError -&gt; TomlBiMapError -&gt; Bool)
-&gt; (TomlBiMapError -&gt; TomlBiMapError -&gt; Bool) -&gt; Eq TomlBiMapError
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: TomlBiMapError -&gt; TomlBiMapError -&gt; Bool
== :: TomlBiMapError -&gt; TomlBiMapError -&gt; Bool
$c/= :: TomlBiMapError -&gt; TomlBiMapError -&gt; Bool
/= :: TomlBiMapError -&gt; TomlBiMapError -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679107186"><span id="local-6989586621679107198"><span id="local-6989586621679107202"><span class="annot"><span class="annottext">Int -&gt; TomlBiMapError -&gt; ShowS
[TomlBiMapError] -&gt; ShowS
TomlBiMapError -&gt; String
(Int -&gt; TomlBiMapError -&gt; ShowS)
-&gt; (TomlBiMapError -&gt; String)
-&gt; ([TomlBiMapError] -&gt; ShowS)
-&gt; Show TomlBiMapError
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; TomlBiMapError -&gt; ShowS
showsPrec :: Int -&gt; TomlBiMapError -&gt; ShowS
$cshow :: TomlBiMapError -&gt; String
show :: TomlBiMapError -&gt; String
$cshowList :: [TomlBiMapError] -&gt; ShowS
showList :: [TomlBiMapError] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679107206"><span id="local-6989586621679107208"><span class="annot"><span class="annottext">(forall x. TomlBiMapError -&gt; Rep TomlBiMapError x)
-&gt; (forall x. Rep TomlBiMapError x -&gt; TomlBiMapError)
-&gt; Generic TomlBiMapError
forall x. Rep TomlBiMapError x -&gt; TomlBiMapError
forall x. TomlBiMapError -&gt; Rep TomlBiMapError x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. TomlBiMapError -&gt; Rep TomlBiMapError x
from :: forall x. TomlBiMapError -&gt; Rep TomlBiMapError x
$cto :: forall x. Rep TomlBiMapError x -&gt; TomlBiMapError
to :: forall x. Rep TomlBiMapError x -&gt; TomlBiMapError
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679107212"><span class="annot"><span class="annottext">TomlBiMapError -&gt; ()
(TomlBiMapError -&gt; ()) -&gt; NFData TomlBiMapError
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: TomlBiMapError -&gt; ()
rnf :: TomlBiMapError -&gt; ()
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></span></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="annot"><span class="hs-comment">{- | Converts 'TomlBiMapError' into pretty human-readable text.

@since 1.0.0
-}</span></span><span>
</span><span id="line-186"></span><span class="annot"><a href="Toml.Codec.BiMap.html#prettyBiMapError"><span class="hs-identifier hs-type">prettyBiMapError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#TomlBiMapError"><span class="hs-identifier hs-type">TomlBiMapError</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-187"></span><span id="prettyBiMapError"><span class="annot"><span class="annottext">prettyBiMapError :: TomlBiMapError -&gt; Text
</span><a href="Toml.Codec.BiMap.html#prettyBiMapError"><span class="hs-identifier hs-var hs-var">prettyBiMapError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-188"></span><span>    </span><span class="annot"><a href="Toml.Codec.BiMap.html#WrongConstructor"><span class="hs-identifier hs-type">WrongConstructor</span></a></span><span> </span><span id="local-6989586621679107238"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679107238"><span class="hs-identifier hs-var">expected</span></a></span></span><span> </span><span id="local-6989586621679107239"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679107239"><span class="hs-identifier hs-var">actual</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Text
</span><span class="hs-identifier hs-var">T.unlines</span></span><span>
</span><span id="line-189"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Invalid constructor&quot;</span></span><span>
</span><span id="line-190"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;  * Expected: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679107238"><span class="hs-identifier hs-var">expected</span></a></span><span>
</span><span id="line-191"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;  * Actual:   &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679107239"><span class="hs-identifier hs-var">actual</span></a></span><span>
</span><span id="line-192"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-193"></span><span>    </span><span class="annot"><a href="Toml.Codec.BiMap.html#WrongValue"><span class="hs-identifier hs-type">WrongValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Toml.Type.AnyValue.html#MatchError"><span class="hs-identifier hs-type">MatchError</span></a></span><span> </span><span id="local-6989586621679107242"><span class="annot"><span class="annottext">TValue
</span><a href="#local-6989586621679107242"><span class="hs-identifier hs-var">expected</span></a></span></span><span> </span><span id="local-6989586621679107243"><span class="annot"><span class="annottext">AnyValue
</span><a href="#local-6989586621679107243"><span class="hs-identifier hs-var">actual</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Text
</span><span class="hs-identifier hs-var">T.unlines</span></span><span>
</span><span id="line-194"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Invalid constructor&quot;</span></span><span>
</span><span id="line-195"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;  * Expected: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">TValue -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Toml.Codec.BiMap.html#tShow"><span class="hs-identifier hs-var">tShow</span></a></span><span> </span><span class="annot"><span class="annottext">TValue
</span><a href="#local-6989586621679107242"><span class="hs-identifier hs-var">expected</span></a></span><span>
</span><span id="line-196"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;  * Actual:   &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">AnyValue -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Toml.Codec.BiMap.html#tShow"><span class="hs-identifier hs-var">tShow</span></a></span><span> </span><span class="annot"><span class="annottext">AnyValue
</span><a href="#local-6989586621679107243"><span class="hs-identifier hs-var">actual</span></a></span><span>
</span><span id="line-197"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-198"></span><span>    </span><span class="annot"><a href="Toml.Codec.BiMap.html#ArbitraryError"><span class="hs-identifier hs-type">ArbitraryError</span></a></span><span> </span><span id="local-6989586621679107244"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679107244"><span class="hs-identifier hs-var">text</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679107244"><span class="hs-identifier hs-var">text</span></a></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="annot"><span class="hs-comment">{- | Helper to construct WrongConstuctor error.

@since 1.0.0
-}</span></span><span>
</span><span id="line-204"></span><span id="local-6989586621679107094"><span id="local-6989586621679107095"><span class="annot"><a href="Toml.Codec.BiMap.html#wrongConstructor"><span class="hs-identifier hs-type">wrongConstructor</span></a></span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679107094"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Name of the expected constructor</span></span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679107094"><span class="hs-identifier hs-type">a</span></a></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ Actual value</span></span><span>
</span><span id="line-208"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#TomlBiMapError"><span class="hs-identifier hs-type">TomlBiMapError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107095"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-209"></span><span id="wrongConstructor"><span class="annot"><span class="annottext">wrongConstructor :: forall a b. Show a =&gt; Text -&gt; a -&gt; Either TomlBiMapError b
</span><a href="Toml.Codec.BiMap.html#wrongConstructor"><span class="hs-identifier hs-var hs-var">wrongConstructor</span></a></span></span><span> </span><span id="local-6989586621679107247"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679107247"><span class="hs-identifier hs-var">constructor</span></a></span></span><span> </span><span id="local-6989586621679107248"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679107248"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TomlBiMapError -&gt; Either TomlBiMapError b
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(TomlBiMapError -&gt; Either TomlBiMapError b)
-&gt; TomlBiMapError -&gt; Either TomlBiMapError b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; TomlBiMapError
</span><a href="Toml.Codec.BiMap.html#WrongConstructor"><span class="hs-identifier hs-var">WrongConstructor</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679107247"><span class="hs-identifier hs-var">constructor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Toml.Codec.BiMap.html#tShow"><span class="hs-identifier hs-var">tShow</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679107248"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span id="local-6989586621679107093"><span class="annot"><a href="Toml.Codec.BiMap.html#tShow"><span class="hs-identifier hs-type">tShow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679107093"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679107093"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span></span><span>
</span><span id="line-212"></span><span id="tShow"><span class="annot"><span class="annottext">tShow :: forall a. Show a =&gt; a -&gt; Text
</span><a href="Toml.Codec.BiMap.html#tShow"><span class="hs-identifier hs-var hs-var">tShow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; (a -&gt; String) -&gt; a -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span>
</span><span id="line-213"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#tShow"><span class="hs-pragma hs-type">tShow</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-216"></span><span class="hs-comment">--  BiMaps for value</span><span>
</span><span id="line-217"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span class="annot"><span class="hs-comment">{- | Smart constructor for 'BiMap' from a Haskell value (some
primitive like 'Int' or 'Text') to 'AnyValue'.

@since 0.4.0
-}</span></span><span>
</span><span id="line-224"></span><span class="annot"><a href="Toml.Codec.BiMap.html#mkAnyValueBiMap"><span class="hs-identifier hs-type">mkAnyValueBiMap</span></a></span><span>
</span><span id="line-225"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679107105"><span class="annot"><a href="#local-6989586621679107105"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679107106"><span class="annot"><a href="#local-6989586621679107106"><span class="hs-identifier hs-type">tag</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Toml.Type.Value.html#TValue"><span class="hs-identifier hs-type">TValue</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span>    </span><span class="hs-operator">.</span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679107103"><span class="annot"><a href="#local-6989586621679107103"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Toml.Type.Value.html#TValue"><span class="hs-identifier hs-type">TValue</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Toml.Type.Value.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107103"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Toml.Type.AnyValue.html#MatchError"><span class="hs-identifier hs-type">MatchError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107105"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Haskell type exctractor from 'Value'</span></span><span>
</span><span id="line-228"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679107105"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Toml.Type.Value.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107106"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Convert Haskell type back to 'Value'</span></span><span>
</span><span id="line-230"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#TomlBiMap"><span class="hs-identifier hs-type">TomlBiMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107105"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Toml.Type.AnyValue.html#AnyValue"><span class="hs-identifier hs-type">AnyValue</span></a></span><span>
</span><span id="line-231"></span><span id="mkAnyValueBiMap"><span class="annot"><span class="annottext">mkAnyValueBiMap :: forall a (tag :: TValue).
(forall (t :: TValue). Value t -&gt; Either MatchError a)
-&gt; (a -&gt; Value tag) -&gt; TomlBiMap a AnyValue
</span><a href="Toml.Codec.BiMap.html#mkAnyValueBiMap"><span class="hs-identifier hs-var hs-var">mkAnyValueBiMap</span></a></span></span><span> </span><span id="local-6989586621679107255"><span class="annot"><span class="annottext">forall (t :: TValue). Value t -&gt; Either MatchError a
</span><a href="#local-6989586621679107255"><span class="hs-identifier hs-var">matchValue</span></a></span></span><span> </span><span id="local-6989586621679107256"><span class="annot"><span class="annottext">a -&gt; Value tag
</span><a href="#local-6989586621679107256"><span class="hs-identifier hs-var">toValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#BiMap"><span class="hs-identifier hs-type">BiMap</span></a></span><span>
</span><span id="line-232"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">forward :: a -&gt; Either TomlBiMapError AnyValue
</span><a href="Toml.Codec.BiMap.html#forward"><span class="hs-identifier hs-var">forward</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyValue -&gt; Either TomlBiMapError AnyValue
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(AnyValue -&gt; Either TomlBiMapError AnyValue)
-&gt; (a -&gt; AnyValue) -&gt; a -&gt; Either TomlBiMapError AnyValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; AnyValue
</span><a href="#local-6989586621679107257"><span class="hs-identifier hs-var">toAnyValue</span></a></span><span>
</span><span id="line-233"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">backward :: AnyValue -&gt; Either TomlBiMapError a
</span><a href="Toml.Codec.BiMap.html#backward"><span class="hs-identifier hs-var">backward</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyValue -&gt; Either TomlBiMapError a
</span><a href="#local-6989586621679107258"><span class="hs-identifier hs-var">fromAnyValue</span></a></span><span>
</span><span id="line-234"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-235"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-236"></span><span>    </span><span class="annot"><a href="#local-6989586621679107257"><span class="hs-identifier hs-type">toAnyValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679107105"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Toml.Type.AnyValue.html#AnyValue"><span class="hs-identifier hs-type">AnyValue</span></a></span><span>
</span><span id="line-237"></span><span>    </span><span id="local-6989586621679107257"><span class="annot"><span class="annottext">toAnyValue :: a -&gt; AnyValue
</span><a href="#local-6989586621679107257"><span class="hs-identifier hs-var hs-var">toAnyValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value tag -&gt; AnyValue
forall (t :: TValue). Value t -&gt; AnyValue
</span><a href="Toml.Type.AnyValue.html#AnyValue"><span class="hs-identifier hs-var">AnyValue</span></a></span><span> </span><span class="annot"><span class="annottext">(Value tag -&gt; AnyValue) -&gt; (a -&gt; Value tag) -&gt; a -&gt; AnyValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Value tag
</span><a href="#local-6989586621679107256"><span class="hs-identifier hs-var">toValue</span></a></span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span>    </span><span class="annot"><a href="#local-6989586621679107258"><span class="hs-identifier hs-type">fromAnyValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Toml.Type.AnyValue.html#AnyValue"><span class="hs-identifier hs-type">AnyValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Toml.Codec.BiMap.html#TomlBiMapError"><span class="hs-identifier hs-type">TomlBiMapError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107105"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-240"></span><span>    </span><span id="local-6989586621679107258"><span class="annot"><span class="annottext">fromAnyValue :: AnyValue -&gt; Either TomlBiMapError a
</span><a href="#local-6989586621679107258"><span class="hs-identifier hs-var hs-var">fromAnyValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Toml.Type.AnyValue.html#AnyValue"><span class="hs-identifier hs-type">AnyValue</span></a></span><span> </span><span id="local-6989586621679107261"><span class="annot"><span class="annottext">Value t
</span><a href="#local-6989586621679107261"><span class="hs-identifier hs-var">value</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(MatchError -&gt; TomlBiMapError)
-&gt; Either MatchError a -&gt; Either TomlBiMapError a
forall a b c. (a -&gt; b) -&gt; Either a c -&gt; Either b c
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><span class="hs-identifier hs-var">first</span></span><span> </span><span class="annot"><span class="annottext">MatchError -&gt; TomlBiMapError
</span><a href="Toml.Codec.BiMap.html#WrongValue"><span class="hs-identifier hs-var">WrongValue</span></a></span><span> </span><span class="annot"><span class="annottext">(Either MatchError a -&gt; Either TomlBiMapError a)
-&gt; Either MatchError a -&gt; Either TomlBiMapError a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Value t -&gt; Either MatchError a
forall (t :: TValue). Value t -&gt; Either MatchError a
</span><a href="#local-6989586621679107255"><span class="hs-identifier hs-var">matchValue</span></a></span><span> </span><span class="annot"><span class="annottext">Value t
</span><a href="#local-6989586621679107261"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-241"></span></pre></body></html>