<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="annot"><span class="hs-comment">{- |
Module                  : Toml.Codec.Combinator.Table
Copyright               : (c) 2018-2022 Kowainik
SPDX-License-Identifier : MPL-2.0
Maintainer              : Kowainik &lt;xrom.xkov@gmail.com&gt;
Stability               : Stable
Portability             : Portable

Contains TOML-specific combinators for converting between TOML and user data
types.

Tables can be represented in @TOML@ in one of the following ways:

@
foo =
    { x = ...
    , y = ...
    , ...
    }
@

__Or__

@
[foo]
    x = ...
    y = ...
    ...
@

@since 1.3.0.0
-}</span></span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Toml.Codec.Combinator.Table</span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Tables</span></span><span>
</span><span id="line-36"></span><span>      </span><span class="annot"><a href="Toml.Codec.Combinator.Table.html#table"><span class="hs-identifier">table</span></a></span><span>
</span><span id="line-37"></span><span>      </span><span class="annot"><span class="hs-comment">-- * Error Helpers</span></span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Toml.Codec.Combinator.Table.html#handleTableErrors"><span class="hs-identifier">handleTableErrors</span></a></span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Toml.Codec.Combinator.Table.html#mapTableErrors"><span class="hs-identifier">mapTableErrors</span></a></span><span>
</span><span id="line-40"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.State</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">gets</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">modify</span></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fromMaybe</span></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Validation</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Validation</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Toml.Codec.Error.html"><span class="hs-identifier">Toml.Codec.Error</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Toml.Codec.Error.html#TomlDecodeError"><span class="hs-identifier">TomlDecodeError</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Toml.Codec.Types.html"><span class="hs-identifier">Toml.Codec.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Toml.Codec.Types.html#Codec"><span class="hs-identifier">Codec</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Toml.Codec.Types.html#TomlCodec"><span class="hs-identifier">TomlCodec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Toml.Codec.Types.html#TomlEnv"><span class="hs-identifier">TomlEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Toml.Codec.Types.html#TomlState"><span class="hs-identifier">TomlState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Toml.Type.Key.html"><span class="hs-identifier">Toml.Type.Key</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Toml.Type.Key.html#Key"><span class="hs-identifier">Key</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Toml.Type.TOML.html"><span class="hs-identifier">Toml.Type.TOML</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Toml.Type.TOML.html#TOML"><span class="hs-identifier">TOML</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Toml.Type.TOML.html#insertTable"><span class="hs-identifier">insertTable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Toml.Type.PrefixTree.html"><span class="hs-identifier">Toml.Type.PrefixTree</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Prefix</span></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span class="annot"><span class="hs-comment">{- | Maps errors in tables with 'mapTableErrors'

@since 1.3.0.0
-}</span></span><span>
</span><span id="line-59"></span><span id="local-6989586621679107972"><span class="annot"><a href="Toml.Codec.Combinator.Table.html#handleTableErrors"><span class="hs-identifier hs-type">handleTableErrors</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Toml.Codec.Types.html#TomlCodec"><span class="hs-identifier hs-type">TomlCodec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107972"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Toml.Type.Key.html#Key"><span class="hs-identifier hs-type">Key</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Toml.Type.TOML.html#TOML"><span class="hs-identifier hs-type">TOML</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Validation</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Toml.Codec.Error.html#TomlDecodeError"><span class="hs-identifier hs-type">TomlDecodeError</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679107972"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-60"></span><span id="handleTableErrors"><span class="annot"><span class="annottext">handleTableErrors :: forall a.
TomlCodec a -&gt; Key -&gt; TOML -&gt; Validation [TomlDecodeError] a
</span><a href="Toml.Codec.Combinator.Table.html#handleTableErrors"><span class="hs-identifier hs-var hs-var">handleTableErrors</span></a></span></span><span> </span><span id="local-6989586621679108030"><span class="annot"><span class="annottext">TomlCodec a
</span><a href="#local-6989586621679108030"><span class="hs-identifier hs-var">codec</span></a></span></span><span> </span><span id="local-6989586621679108031"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679108031"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679108032"><span class="annot"><span class="annottext">TOML
</span><a href="#local-6989586621679108032"><span class="hs-identifier hs-var">toml</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TomlCodec a -&gt; TomlEnv a
forall i o. Codec i o -&gt; TomlEnv o
</span><a href="Toml.Codec.Types.html#codecRead"><span class="hs-identifier hs-var">codecRead</span></a></span><span> </span><span class="annot"><span class="annottext">TomlCodec a
</span><a href="#local-6989586621679108030"><span class="hs-identifier hs-var">codec</span></a></span><span> </span><span class="annot"><span class="annottext">TOML
</span><a href="#local-6989586621679108032"><span class="hs-identifier hs-var">toml</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-61"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Success</span></span><span> </span><span id="local-6989586621679108035"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679108035"><span class="hs-identifier hs-var">res</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Validation [TomlDecodeError] a
forall e a. a -&gt; Validation e a
</span><span class="hs-identifier hs-var">Success</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679108035"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-62"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Failure</span></span><span> </span><span id="local-6989586621679108037"><span class="annot"><span class="annottext">[TomlDecodeError]
</span><a href="#local-6989586621679108037"><span class="hs-identifier hs-var">errs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[TomlDecodeError] -&gt; Validation [TomlDecodeError] a
forall e a. e -&gt; Validation e a
</span><span class="hs-identifier hs-var">Failure</span></span><span> </span><span class="annot"><span class="annottext">([TomlDecodeError] -&gt; Validation [TomlDecodeError] a)
-&gt; [TomlDecodeError] -&gt; Validation [TomlDecodeError] a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; [TomlDecodeError] -&gt; [TomlDecodeError]
</span><a href="Toml.Codec.Combinator.Table.html#mapTableErrors"><span class="hs-identifier hs-var">mapTableErrors</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679108031"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">[TomlDecodeError]
</span><a href="#local-6989586621679108037"><span class="hs-identifier hs-var">errs</span></a></span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="annot"><span class="hs-comment">{- | Prepends given key to all errors that contain key. This function is used to
give better error messages. So when error happens we know all pieces of table
key, not only the last one.

@since 0.2.0
-}</span></span><span>
</span><span id="line-70"></span><span class="annot"><a href="Toml.Codec.Combinator.Table.html#mapTableErrors"><span class="hs-identifier hs-type">mapTableErrors</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Toml.Type.Key.html#Key"><span class="hs-identifier hs-type">Key</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Toml.Codec.Error.html#TomlDecodeError"><span class="hs-identifier hs-type">TomlDecodeError</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Toml.Codec.Error.html#TomlDecodeError"><span class="hs-identifier hs-type">TomlDecodeError</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-71"></span><span id="mapTableErrors"><span class="annot"><span class="annottext">mapTableErrors :: Key -&gt; [TomlDecodeError] -&gt; [TomlDecodeError]
</span><a href="Toml.Codec.Combinator.Table.html#mapTableErrors"><span class="hs-identifier hs-var hs-var">mapTableErrors</span></a></span></span><span> </span><span id="local-6989586621679108038"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679108038"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TomlDecodeError -&gt; TomlDecodeError)
-&gt; [TomlDecodeError] -&gt; [TomlDecodeError]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-72"></span><span>    </span><span class="annot"><a href="Toml.Codec.Error.html#KeyNotFound"><span class="hs-identifier hs-type">KeyNotFound</span></a></span><span> </span><span id="local-6989586621679108040"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679108040"><span class="hs-identifier hs-var">name</span></a></span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key -&gt; TomlDecodeError
</span><a href="Toml.Codec.Error.html#KeyNotFound"><span class="hs-identifier hs-var">KeyNotFound</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679108038"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Key
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679108040"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>    </span><span class="annot"><a href="Toml.Codec.Error.html#TableNotFound"><span class="hs-identifier hs-type">TableNotFound</span></a></span><span> </span><span id="local-6989586621679108042"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679108042"><span class="hs-identifier hs-var">name</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key -&gt; TomlDecodeError
</span><a href="Toml.Codec.Error.html#TableNotFound"><span class="hs-identifier hs-var">TableNotFound</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679108038"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Key
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679108042"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>    </span><span class="annot"><a href="Toml.Codec.Error.html#TableArrayNotFound"><span class="hs-identifier hs-type">TableArrayNotFound</span></a></span><span> </span><span id="local-6989586621679108044"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679108044"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key -&gt; TomlDecodeError
</span><a href="Toml.Codec.Error.html#TableArrayNotFound"><span class="hs-identifier hs-var">TableArrayNotFound</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679108038"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Key
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679108044"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span>    </span><span id="local-6989586621679108045"><span class="annot"><span class="annottext">TomlDecodeError
</span><a href="#local-6989586621679108045"><span class="hs-identifier hs-var">e</span></a></span></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TomlDecodeError
</span><a href="#local-6989586621679108045"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-76"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="annot"><span class="hs-comment">{- | Codec for tables. Use it when when you have nested objects.

@since 0.2.0
-}</span></span><span>
</span><span id="line-82"></span><span class="annot"><a href="Toml.Codec.Combinator.Table.html#table"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679107991"><span class="annot"><a href="#local-6989586621679107991"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Toml.Codec.Types.html#TomlCodec"><span class="hs-identifier hs-type">TomlCodec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107991"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Toml.Type.Key.html#Key"><span class="hs-identifier hs-type">Key</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Toml.Codec.Types.html#TomlCodec"><span class="hs-identifier hs-type">TomlCodec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107991"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-83"></span><span id="table"><span class="annot"><span class="annottext">table :: forall a. TomlCodec a -&gt; Key -&gt; TomlCodec a
</span><a href="Toml.Codec.Combinator.Table.html#table"><span class="hs-identifier hs-var hs-var">table</span></a></span></span><span> </span><span id="local-6989586621679108054"><span class="annot"><span class="annottext">TomlCodec a
</span><a href="#local-6989586621679108054"><span class="hs-identifier hs-var">codec</span></a></span></span><span> </span><span id="local-6989586621679108055"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679108055"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TomlEnv a -&gt; (a -&gt; TomlState a) -&gt; TomlCodec a
forall i o. TomlEnv o -&gt; (i -&gt; TomlState o) -&gt; Codec i o
</span><a href="Toml.Codec.Types.html#Codec"><span class="hs-identifier hs-var">Codec</span></a></span><span> </span><span class="annot"><span class="annottext">TomlEnv a
</span><a href="#local-6989586621679108057"><span class="hs-identifier hs-var">input</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; TomlState a
</span><a href="#local-6989586621679108058"><span class="hs-identifier hs-var">output</span></a></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-85"></span><span>    </span><span class="annot"><a href="#local-6989586621679108057"><span class="hs-identifier hs-type">input</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Toml.Codec.Types.html#TomlEnv"><span class="hs-identifier hs-type">TomlEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107991"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-86"></span><span>    </span><span id="local-6989586621679108057"><span class="annot"><span class="annottext">input :: TomlEnv a
</span><a href="#local-6989586621679108057"><span class="hs-identifier hs-var hs-var">input</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679108059"><span class="annot"><span class="annottext">TOML
</span><a href="#local-6989586621679108059"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Key -&gt; PrefixMap TOML -&gt; Maybe TOML
forall a. Key -&gt; PrefixMap a -&gt; Maybe a
</span><a href="Toml.Type.PrefixTree.html#lookup"><span class="hs-identifier hs-var">Prefix.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679108055"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">(PrefixMap TOML -&gt; Maybe TOML) -&gt; PrefixMap TOML -&gt; Maybe TOML
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TOML -&gt; PrefixMap TOML
</span><a href="Toml.Type.TOML.html#tomlTables"><span class="hs-identifier hs-var">tomlTables</span></a></span><span> </span><span class="annot"><span class="annottext">TOML
</span><a href="#local-6989586621679108059"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-87"></span><span>        </span><span class="annot"><span class="annottext">Maybe TOML
</span><span class="hs-identifier hs-var">Nothing</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[TomlDecodeError] -&gt; Validation [TomlDecodeError] a
forall e a. e -&gt; Validation e a
</span><span class="hs-identifier hs-var">Failure</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Key -&gt; TomlDecodeError
</span><a href="Toml.Codec.Error.html#TableNotFound"><span class="hs-identifier hs-var">TableNotFound</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679108055"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-88"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679108062"><span class="annot"><span class="annottext">TOML
</span><a href="#local-6989586621679108062"><span class="hs-identifier hs-var">toml</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TomlCodec a -&gt; Key -&gt; TomlEnv a
forall a.
TomlCodec a -&gt; Key -&gt; TOML -&gt; Validation [TomlDecodeError] a
</span><a href="Toml.Codec.Combinator.Table.html#handleTableErrors"><span class="hs-identifier hs-var">handleTableErrors</span></a></span><span> </span><span class="annot"><span class="annottext">TomlCodec a
</span><a href="#local-6989586621679108054"><span class="hs-identifier hs-var">codec</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679108055"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">TOML
</span><a href="#local-6989586621679108062"><span class="hs-identifier hs-var">toml</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span>    </span><span class="annot"><a href="#local-6989586621679108058"><span class="hs-identifier hs-type">output</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679107991"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Toml.Codec.Types.html#TomlState"><span class="hs-identifier hs-type">TomlState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107991"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-91"></span><span>    </span><span id="local-6989586621679108058"><span class="annot"><span class="annottext">output :: a -&gt; TomlState a
</span><a href="#local-6989586621679108058"><span class="hs-identifier hs-var hs-var">output</span></a></span></span><span> </span><span id="local-6989586621679108063"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679108063"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-92"></span><span>        </span><span id="local-6989586621679108064"><span class="annot"><span class="annottext">Maybe TOML
</span><a href="#local-6989586621679108064"><span class="hs-identifier hs-var">mTable</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(TOML -&gt; Maybe TOML) -&gt; TomlState (Maybe TOML)
forall s (m :: * -&gt; *) a. MonadState s m =&gt; (s -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">gets</span></span><span> </span><span class="annot"><span class="annottext">((TOML -&gt; Maybe TOML) -&gt; TomlState (Maybe TOML))
-&gt; (TOML -&gt; Maybe TOML) -&gt; TomlState (Maybe TOML)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; PrefixMap TOML -&gt; Maybe TOML
forall a. Key -&gt; PrefixMap a -&gt; Maybe a
</span><a href="Toml.Type.PrefixTree.html#lookup"><span class="hs-identifier hs-var">Prefix.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679108055"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">(PrefixMap TOML -&gt; Maybe TOML)
-&gt; (TOML -&gt; PrefixMap TOML) -&gt; TOML -&gt; Maybe TOML
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TOML -&gt; PrefixMap TOML
</span><a href="Toml.Type.TOML.html#tomlTables"><span class="hs-identifier hs-var">tomlTables</span></a></span><span>
</span><span id="line-93"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679108068"><span class="annot"><span class="annottext">toml :: TOML
</span><a href="#local-6989586621679108068"><span class="hs-identifier hs-var hs-var">toml</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TOML -&gt; Maybe TOML -&gt; TOML
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">TOML
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="annot"><span class="annottext">Maybe TOML
</span><a href="#local-6989586621679108064"><span class="hs-identifier hs-var">mTable</span></a></span><span>
</span><span id="line-94"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679108069"><span class="annot"><span class="annottext">TOML
</span><a href="#local-6989586621679108069"><span class="hs-identifier hs-var">newToml</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TomlState a -&gt; TOML -&gt; (Maybe a, TOML)
forall a. TomlState a -&gt; TOML -&gt; (Maybe a, TOML)
</span><a href="Toml.Codec.Types.html#unTomlState"><span class="hs-identifier hs-var">unTomlState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TomlCodec a -&gt; a -&gt; TomlState a
forall i o. Codec i o -&gt; i -&gt; TomlState o
</span><a href="Toml.Codec.Types.html#codecWrite"><span class="hs-identifier hs-var">codecWrite</span></a></span><span> </span><span class="annot"><span class="annottext">TomlCodec a
</span><a href="#local-6989586621679108054"><span class="hs-identifier hs-var">codec</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679108063"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TOML
</span><a href="#local-6989586621679108068"><span class="hs-identifier hs-var">toml</span></a></span><span>
</span><span id="line-95"></span><span>        </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679108063"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; TomlState () -&gt; TomlState a
forall a b. a -&gt; TomlState b -&gt; TomlState a
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;$</span></span><span> </span><span class="annot"><span class="annottext">(TOML -&gt; TOML) -&gt; TomlState ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span><span class="hs-identifier hs-var">modify</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key -&gt; TOML -&gt; TOML -&gt; TOML
</span><a href="Toml.Type.TOML.html#insertTable"><span class="hs-identifier hs-var">insertTable</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679108055"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">TOML
</span><a href="#local-6989586621679108069"><span class="hs-identifier hs-var">newToml</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span></pre></body></html>